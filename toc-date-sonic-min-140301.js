tocDate.autoLoad="0";tocDate.total=0;tocDate.startNo=1;tocDate.yearNow="";tocDate.monthNow="";tocDate.toggle=function(a){var b=jQuery;b(a).next()[tocDate.toggleEffect]()};tocDate.json=function(r){var g=jQuery,p=[],m=[],q=[],e=("entry" in r.feed)?1:0,c=r.feed.entry.length,h,f,d,o,n,b,a;tocDate.total=!tocDate.total?r.feed.openSearch$totalResults.$t:tocDate.total;if(!e){g("#TOC-date").html("目前沒有文章");return}for(h=0;h<c;h++){o=r.feed.entry[h];n=o.title.$t;b=o.published.$t.substring(0,10);d=o.link.length;for(f=0;f<d;f++){if(o.link[f].rel=="alternate"){a=o.link[f].href;break}}p.push(n);q.push(b);m.push(a)}g("#tocMore").html("");if(tocDate.autoLoad=="0"){tocDate.divInit(g,p,m,q)}else{tocDate.main(g,p,m,q)}};tocDate.divInit=function(b,h,d,i){var f=i[0],e,a,g,c;tocDate.yearNow=e=f.substring(0,4);tocDate.monthNow=a=f.substring(5,7);g=tocDate.month[parseInt(a,10)-1];c="<div class='tocYear'>";c+="<span class='tocYearTitle' onclick='tocDate.toggle(this);'>"+e+"</span>";c+="<div class='tocYearToggle' id='tocYear"+e+"'>";c+="<div class='tocMonthTitle' onclick='tocDate.toggle(this);'>"+g+"</div>";c+="<div class='tocMonthToggle' id='tocMonth"+e+a+"'></div><div style='clear: both;'></div></div><div style='clear: both;'></div>";b("#TOC-date").append(c);c="<a href='http://wayne-fu.blogspot.com/2014/03/blogger-toc-date-sonic.html' target='_blank' style='text-decoration: none; color: #ccc;' title='Designed by WFU BLOG'>Blogger TOC sorted by date, sonic version.</a>";b("#tocInfo").html(c);tocDate.autoLoad="N";tocDate.main(b,h,d,i)};tocDate.main=function(h,m,f,b){var u=f.length,z="#TOC-date",v=":visible",d="href",p="title",r="next",A=h(z)[r]()[r](),t=A.width(),e=A.is(v),q=A.text(),j=A.children(),y=j.attr(d),D=j.attr(p),c=1,g=function(H){var E=H.length,G=0,F;for(F=0;F<E;F++){G=G+H.charCodeAt(F)}return G},x,B,o,C,w,k,n,s,a;s=g(y);a=g(D);if(!q||!y||!D||!e||t<100||s!=5772||a!=1652){c=0}for(x=0;x<u;x++){B=b[x];o=B.substring(0,4);C=B.substring(5,7);w=B.substring(8,10);if(o!=tocDate.yearNow){n="<div class='tocYear'>";n+="<span class='tocYearTitle' onclick='tocDate.toggle(this);'>"+o+"</span>";n+="<div class='tocYearToggle' id='tocYear"+o+"'></div>";n+="<div style='clear: both;'></div></div><div style='clear: both;'></div>";h("#TOC-date").append(n);tocDate.yearNow=o}if(C!=tocDate.monthNow){k=tocDate.month[parseInt(C,10)-1];C=c?C:C+1;n="<div  class='tocMonthTitle' onclick='tocDate.toggle(this);'>"+k+"</div>";n+="<div class='tocMonthToggle' id='tocMonth"+o+C+"'></div><div style='clear: both;'></div>";h("#tocYear"+o).append(n);tocDate.monthNow=C}n="<span class='tocDayNo'>["+w+"]</span>";n+="<div class='tocPostTitle'><a href='"+f[x]+"' target='_blank'>"+m[x]+"</a></div>";h("#tocMonth"+o+C).append(n)}tocDate.startNo=tocDate.loadNumber+tocDate.startNo;if(tocDate.total<tocDate.startNo){return}if(tocDate.autoLoad=="N"&&tocDate.total>=tocDate.startNo){n="<span class='tocMore' onclick='tocDate.init($, 1)'>"+tocDate.loadMoreText+"</span>";n+="<span class='tocMore' onclick='tocDate.init($, 2)'>"+tocDate.loadAllText+"</span>";h("#tocMore").html(n)}if(tocDate.autoLoad=="Y"){tocDate.init(h,2)}};tocDate.init=function(c,a){var b="<div style='text-align: center; margin: 0px auto'><img style='vertical-align: middle; border: none; box-shadow: none;' src='https://lh3.googleusercontent.com/-Wb95kV0ixnU/T6yfMz6PFRI/AAAAAAAACk8/Frnvk_g9dTE/s1600/Big_Flower.gif'/>&#12288;please wait...</div>";c=jQuery;if(!a){b="<div id='tocMore'>"+b+"</div>";c("#TOC-date").after(b);b="<div id='tocInfo'></div>";c("#tocMore").after(b)}else{c("#tocMore").html(b)}if(a==2){tocDate.autoLoad="Y"}c.getScript("/feeds/posts/summary?max-results="+tocDate.loadNumber+"&start-index="+tocDate.startNo+"&alt=json-in-script&callback=tocDate.json")};tocDate.getScript=function(f,e){var d=document.createElement("script");if(d.readyState){d.onreadystatechange=function(){if(d.readyState=="loaded"||d.readyState=="complete"){d.onreadystatechange=null;if(e){e()}}}}else{d.onload=function(){if(e){e()}}}d.src=f;document.documentElement.firstChild.appendChild(d)};if(typeof jQuery==="undefined"){tocDate.getScript("http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js",tocDate.init)}else{tocDate.init()};